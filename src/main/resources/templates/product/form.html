<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title th:text="${product != null and product.id == null} ? 'New product' : 'Edit product'">Product</title>
        <!-- LINKS -->
        <div th:replace="~{fragments/links :: links}"></div>
    </head>
    <body>
        <!-- NAVIGATION -->
        <div th:replace="~{fragments/nav :: nav}"></div>

        <main class="container">
            <h1 th:text="${product != null and product.id == null} ? 'New product' : 'Edit product'">Product</h1>

            <form th:action="${product != null and product.id == null} ? @{/products} : @{/products/{id}(id=${product.id})}"
                  th:object="${product}" method="post" class="mt-3">
                <div class="mb-3">
                    <label class="form-label">Product name</label>
                    <input type="text" class="form-control" th:field="*{name}" />
                </div>

                <div class="mb-3">
                    <label class="form-label">SKU</label>
                    <input type="text" class="form-control" th:field="*{sku}" />
                </div>

                <div class="mb-3">
                    <label class="form-label">Unit</label>
                    <input type="text" class="form-control" th:field="*{unit}" />
                </div>

                <div class="mb-3">
                    <label class="form-label">Min Order Level</label>
                    <input type="number" class="form-control" th:field="*{minOrderLevel}" />
                </div>

                <div class="mb-3">
                    <label class="form-label">Unit Price</label>
                    <input type="number" step="0.01" class="form-control" th:field="*{unitPrice}" />
                </div>

                <div class="mb-3">
                    <label class="form-label">Quantity</label>
                    <input type="number" step="1" class="form-control" th:field="*{quantity}" />
                </div>

                <div class="d-flex gap-2">
                    <button class="btn btn-primary" type="submit">Save</button>
                    <a class="btn btn-secondary" th:href="@{/products}">Cancel</a>
                </div>
            </form>
        </main>

        <!-- SCRIPTS -->
        <div th:replace="~{fragments/scripts :: scripts}"></div>
    </body>
</html>
